{"ast":null,"code":"var _jsxFileName = \"/Users/sanyampanchal/React/e-commerce/Frontend/src/AuthContet.tsx\",\n  _s = $RefreshSig$();\nimport { createContext, useReducer } from \"react\";\nimport AuthReducer from \"./AuthReducer.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst INITIAL_STATE = {\n  user_detail: null,\n  isFetching: false,\n  error: false,\n  dispatch: () => undefined\n};\nexport const AuthContext = /*#__PURE__*/createContext(INITIAL_STATE);\n_c = AuthContext;\nexport const AuthContextProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  console.log();\n  const [state, dispatch] = useReducer(AuthReducer, {\n    ...INITIAL_STATE,\n    user_detail: window.localStorage.getItem(\"token-info\") ? JSON.parse(window.localStorage.getItem(\"token-info\") || \"\") : null\n  });\n  console.log(state.user_detail);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n      value: {\n        user_detail: state.user_detail,\n        isFetching: state.isFetching,\n        error: state.error,\n        dispatch\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n/*export const login =async(email:any,password:any)=>{\n  try{\n    const loginInfo = {\n      email: email.current.value,\n      password: password.current.value,\n    };\n    console.log(loginInfo);\n    \n    const user = await axios.post(`http://localhost:3333`, {email,password});\n    console.log(user.data)\n  }\n  catch(err){\n    console.log(err)\n  }\n}\n\n\nexport const AuthContext = createContext<any>({});*/\n\n/*export const AuthContextProvider = ({ children }: any) => {\n  //   const [state, dispatch] = useReducer(AuthReducer, Initial_State);\n\n  const [user, setUser] = useState<any>(\n    window.localStorage.getItem(\"user\" || \"\") || null\n  );\n\n  useEffect(() => {\n    if (user) {\n      window.localStorage.setItem(\"user\", JSON.stringify(user));\n    }\n  }, [user]);\n\n  const handleLogout = () => {\n    setUser(null);\n    window.localStorage.removeItem(\"user\");\n  };\n\n  const handleLogin = () => {\n    // backend call\n \n    \n    setUser({\n      user\n    });\n    window.location.href = \"/\";\n  };\n\n  return (\n    <>\n      <AuthContext.Provider\n        value={{\n          user,\n          setUser,\n          handleLogout,\n          handleLogin,\n        }}\n      >\n        {children}\n      </AuthContext.Provider>\n    </>\n  );\n};*/\n_s(AuthContextProvider, \"6aEYQ+wQ6YmJ8HhCB5WEYUWdzOo=\");\n_c2 = AuthContextProvider;\nvar _c, _c2;\n$RefreshReg$(_c, \"AuthContext\");\n$RefreshReg$(_c2, \"AuthContextProvider\");","map":{"version":3,"names":["createContext","useReducer","AuthReducer","INITIAL_STATE","user_detail","isFetching","error","dispatch","undefined","AuthContext","AuthContextProvider","children","console","log","state","window","localStorage","getItem","JSON","parse"],"sources":["/Users/sanyampanchal/React/e-commerce/Frontend/src/AuthContet.tsx"],"sourcesContent":["import { createContext, useReducer, type Dispatch } from \"react\";\nimport AuthReducer from \"./AuthReducer.js\";\n\nconst INITIAL_STATE = {\n  user_detail: null,\n  isFetching: false,\n  error: false,\n  dispatch: (() => undefined) as Dispatch<any>,\n};\n\nexport const AuthContext = createContext(INITIAL_STATE);\n\nexport const AuthContextProvider = ({ children }: any) => {\n  console.log();\n  const [state, dispatch] = useReducer(AuthReducer, {\n    ...INITIAL_STATE,\n    user_detail: window.localStorage.getItem(\"token-info\")\n      ? JSON.parse(window.localStorage.getItem(\"token-info\") || \"\")\n      : null,\n  });\n\n  console.log(state.user_detail);\n\n  return (\n    <>\n      <AuthContext.Provider\n        value={{\n          user_detail: state.user_detail,\n          isFetching: state.isFetching,\n          error: state.error,\n          dispatch,\n        }}\n      >\n        {children}\n      </AuthContext.Provider>\n    </>\n  );\n};\n\n/*export const login =async(email:any,password:any)=>{\n  try{\n    const loginInfo = {\n      email: email.current.value,\n      password: password.current.value,\n    };\n    console.log(loginInfo);\n    \n    const user = await axios.post(`http://localhost:3333`, {email,password});\n    console.log(user.data)\n  }\n  catch(err){\n    console.log(err)\n  }\n}\n\n\nexport const AuthContext = createContext<any>({});*/\n\n/*export const AuthContextProvider = ({ children }: any) => {\n  //   const [state, dispatch] = useReducer(AuthReducer, Initial_State);\n\n  const [user, setUser] = useState<any>(\n    window.localStorage.getItem(\"user\" || \"\") || null\n  );\n\n  useEffect(() => {\n    if (user) {\n      window.localStorage.setItem(\"user\", JSON.stringify(user));\n    }\n  }, [user]);\n\n  const handleLogout = () => {\n    setUser(null);\n    window.localStorage.removeItem(\"user\");\n  };\n\n  const handleLogin = () => {\n    // backend call\n \n    \n    setUser({\n      user\n    });\n    window.location.href = \"/\";\n  };\n\n  return (\n    <>\n      <AuthContext.Provider\n        value={{\n          user,\n          setUser,\n          handleLogout,\n          handleLogin,\n        }}\n      >\n        {children}\n      </AuthContext.Provider>\n    </>\n  );\n};*/\n"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,UAAU,QAAuB,OAAO;AAChE,OAAOC,WAAW,MAAM,kBAAkB;AAAC;AAAA;AAE3C,MAAMC,aAAa,GAAG;EACpBC,WAAW,EAAE,IAAI;EACjBC,UAAU,EAAE,KAAK;EACjBC,KAAK,EAAE,KAAK;EACZC,QAAQ,EAAG,MAAMC;AACnB,CAAC;AAED,OAAO,MAAMC,WAAW,gBAAGT,aAAa,CAACG,aAAa,CAAC;AAAC,KAA3CM,WAAW;AAExB,OAAO,MAAMC,mBAAmB,GAAG,QAAuB;EAAA;EAAA,IAAtB;IAAEC;EAAc,CAAC;EACnDC,OAAO,CAACC,GAAG,EAAE;EACb,MAAM,CAACC,KAAK,EAAEP,QAAQ,CAAC,GAAGN,UAAU,CAACC,WAAW,EAAE;IAChD,GAAGC,aAAa;IAChBC,WAAW,EAAEW,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,GAClDC,IAAI,CAACC,KAAK,CAACJ,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC,GAC3D;EACN,CAAC,CAAC;EAEFL,OAAO,CAACC,GAAG,CAACC,KAAK,CAACV,WAAW,CAAC;EAE9B,oBACE;IAAA,uBACE,QAAC,WAAW,CAAC,QAAQ;MACnB,KAAK,EAAE;QACLA,WAAW,EAAEU,KAAK,CAACV,WAAW;QAC9BC,UAAU,EAAES,KAAK,CAACT,UAAU;QAC5BC,KAAK,EAAEQ,KAAK,CAACR,KAAK;QAClBC;MACF,CAAE;MAAA,UAEDI;IAAQ;MAAA;MAAA;MAAA;IAAA;EACY,iBACtB;AAEP,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1CA,GA9CaD,mBAAmB;AAAA,MAAnBA,mBAAmB;AAAA;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}